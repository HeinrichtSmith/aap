import{j as e}from"./packing-components-Dd-PQZIC.js";import{r as h,A as N,m as t}from"./framer-motion-BPVAyf_I.js";import{u as D,a as R,G as w,A as u}from"./index-CgaYjIAh.js";import{a as c}from"./audio-utils-BwnCMKX-.js";import{a2 as k,ak as V,r as G,X as Q,o as Z,T as C,I as T,af as B,Z as F,O as J,A as Y,g as A,f as q,i as K,V as _}from"./lucide-react-CgSSDUFn.js";import"./react-router-BGTk-eDy.js";const re=({isOpen:M,onClose:E})=>{var j,b,y,v,f;const{user:a,updateUser:S,playSound:n}=D(),{settings:i,updateSettings:r}=R(),[o,z]=h.useState("overview"),[p,x]=h.useState(!1),[d,m]=h.useState(a||{});if(!M||!a)return null;const P=async()=>{try{await c(),await n("success")}catch(s){console.log("Audio error:",s)}S(d),x(!1)},H=async()=>{try{await c(),await n("click")}catch(s){console.log("Audio error:",s)}m(a),x(!1)},L=async s=>{try{await c(),await n("click")}catch(X){console.log("Audio error:",X)}z(s)},g=async()=>{try{await c(),await n("click")}catch(s){console.log("Audio error:",s)}E()},O=async()=>{try{await c(),await n("click")}catch(s){console.log("Audio error:",s)}x(!0)},l=async()=>{try{await c(),await n("hover")}catch(s){console.log("Audio error:",s)}},$=s=>s>=50?"cosmic":s>=25?"mega":s>=15?"super":s>=8?"standard":"normal",U=s=>{switch(s){case"cosmic":return"Cosmic Legend";case"mega":return"Mega Master";case"super":return"Super Operator";case"standard":return"Standard Worker";default:return"Novice"}},I=()=>(a.level-1)*1e3+a.xp,W=[{id:"overview",label:"Overview",icon:Z},{id:"stats",label:"Statistics",icon:C},{id:"achievements",label:"Achievements",icon:T},{id:"settings",label:"Settings",icon:B}];return e.jsx(N,{children:e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:g,children:e.jsxs(t.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"bg-gray-900/95 backdrop-blur-xl border border-gray-700 rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden relative",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs(t.div,{whileHover:{scale:1.1,rotateY:15},transition:{type:"spring",stiffness:600,damping:20},className:"relative",children:[e.jsx(w,{iconType:"trophy",actualQuantity:a.level,size:80,iconSize:"large"}),e.jsxs(t.div,{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-bold",initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:["Lvl ",a.level]})]}),e.jsx("div",{children:p?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:d.name||"",onChange:s=>m({...d,name:s.target.value}),className:"text-3xl font-bold bg-transparent border-b-2 border-blue-500 text-white outline-none"}),e.jsx("input",{type:"text",value:d.title||"",onChange:s=>m({...d,title:s.target.value}),className:"text-lg bg-transparent border-b border-gray-500 text-gray-300 outline-none",placeholder:"Job Title"})]}):e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[a.name,e.jsx("span",{className:"text-4xl ml-3",children:a.avatar})]}),e.jsx("p",{className:"text-gray-300 text-lg",children:a.title||"Warehouse Operator"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(k,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-yellow-300 font-medium",children:U($(a.level))})]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[p?e.jsxs(e.Fragment,{children:[e.jsxs(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,onMouseEnter:l,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors flex items-center space-x-2",children:[e.jsx(V,{size:16}),e.jsx("span",{children:"Save"})]}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,onMouseEnter:l,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-xl transition-colors",children:"Cancel"})]}):e.jsxs(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,onMouseEnter:l,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-colors flex items-center space-x-2",children:[e.jsx(G,{size:16}),e.jsx("span",{children:"Edit"})]}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,onMouseEnter:l,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Q,{size:24})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Level ",a.level," Progress"]}),e.jsxs("span",{className:"text-sm text-blue-400 font-bold",children:[a.xp," / ",a.xpToNextLevel," XP"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:e.jsx(t.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",initial:{width:0},animate:{width:`${a.xp/a.xpToNextLevel*100}%`},transition:{duration:1.5,ease:"easeOut"},style:{filter:"drop-shadow(0 0 8px rgba(59, 130, 246, 0.5))"}})})]})]}),e.jsx("div",{className:"border-b border-gray-700",children:e.jsx("div",{className:"flex",children:W.map(s=>e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(s.id),onMouseEnter:l,className:`flex-1 px-6 py-4 text-center transition-all duration-200 ${o===s.id?"bg-blue-500/20 text-blue-300 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(s.icon,{size:18}),e.jsx("span",{className:"font-medium",children:s.label})]})},s.id))})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:e.jsxs(N,{mode:"wait",children:[o==="overview"&&e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(w,{iconType:"trophy",actualQuantity:a.level,size:50,iconSize:"medium"})}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:e.jsx(u,{target:a.level,duration:1e3})}),e.jsx("p",{className:"text-gray-400",children:"Current Level"})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(F,{className:"text-yellow-400",size:50})}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:e.jsx(u,{target:I(),duration:1500})}),e.jsx("p",{className:"text-gray-400",children:"Total XP"})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(J,{className:"text-purple-400",size:50})}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:e.jsx(u,{target:((j=a.stats)==null?void 0:j.ordersProcessed)||0,duration:1200})}),e.jsx("p",{className:"text-gray-400",children:"Orders Completed"})]})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Y,{className:"mr-2 text-blue-400"}),"Recent Activity"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"text-green-400",size:16})}),e.jsx("span",{className:"text-gray-300",children:"Completed Order #SO-1234"})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(T,{className:"text-blue-400",size:16})}),e.jsxs("span",{className:"text-gray-300",children:["Reached Level ",a.level]})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:"1 day ago"})]})]})]})]},"overview"),o==="stats"&&e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[e.jsx(q,{className:"mx-auto mb-2 text-blue-400",size:32}),e.jsxs("p",{className:"text-xl font-bold",children:[((b=a.stats)==null?void 0:b.avgPickTime)||45,"s"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Avg Pick Time"})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[e.jsx(K,{className:"mx-auto mb-2 text-green-400",size:32}),e.jsxs("p",{className:"text-xl font-bold",children:[((y=a.stats)==null?void 0:y.accuracy)||98,"%"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Accuracy"})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[e.jsx(A,{className:"mx-auto mb-2 text-purple-400",size:32}),e.jsx("p",{className:"text-xl font-bold",children:((v=a.stats)==null?void 0:v.itemsPicked)||1247}),e.jsx("p",{className:"text-xs text-gray-400",children:"Items Picked"})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[e.jsx(C,{className:"mx-auto mb-2 text-yellow-400",size:32}),e.jsxs("p",{className:"text-xl font-bold",children:[((f=a.stats)==null?void 0:f.efficiency)||115,"%"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Efficiency"})]})]})},"stats"),o==="achievements"&&e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 p-4 rounded-xl border border-yellow-500/30",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"text-yellow-400",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Speed Demon"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Complete 100 picks in under 30 seconds each"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 p-4 rounded-xl border border-purple-500/30",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(k,{className:"text-purple-400",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Accuracy Expert"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Maintain 99% accuracy for 50 orders"})]})]})})]})},"achievements"),o==="settings"&&e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Audio Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Sound effects"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({soundEffects:!i.soundEffects}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.soundEffects?"bg-blue-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.soundEffects?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Background music"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({backgroundMusic:!i.backgroundMusic}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.backgroundMusic?"bg-blue-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.backgroundMusic?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Volume"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:i.volumeLevel,onChange:s=>r({volumeLevel:parseInt(s.target.value)}),className:"w-24 accent-blue-500"}),e.jsxs("span",{className:"text-blue-400 font-mono w-12 text-right",children:[i.volumeLevel,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Achievement notifications"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({achievementNotifications:!i.achievementNotifications}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.achievementNotifications?"bg-purple-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.achievementNotifications?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]})})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Display Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Enhanced Visuals"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({showAnimations:!i.showAnimations}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.showAnimations?"bg-green-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.showAnimations?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Dark mode"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({darkMode:!i.darkMode}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.darkMode?"bg-indigo-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.darkMode?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"High contrast mode"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r({highContrastMode:!i.highContrastMode}),onMouseEnter:l,className:`w-12 h-6 rounded-full transition-colors ${i.highContrastMode?"bg-yellow-500":"bg-gray-600"} relative`,children:e.jsx(t.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5",animate:{x:i.highContrastMode?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]})]})]})]})},"settings")]})})]})})})};export{re as default};
