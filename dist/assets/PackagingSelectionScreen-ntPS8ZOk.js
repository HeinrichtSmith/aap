import{j as e,B as ne,c as le}from"./packing-components-Dd-PQZIC.js";import{m as l,r as C,A as ee}from"./framer-motion-BPVAyf_I.js";import{b as R,c as D,p as G,G as S,d as oe,g as ce}from"./index-CgaYjIAh.js";import{p as m}from"./audio-utils-BwnCMKX-.js";import{s as M,P as te,al as de,e as me,y as xe,X as ue,aa as U,am as re,m as Z,g as X,L as he,b as J,an as pe,v as be,B as q,p as ge,x as W}from"./lucide-react-CgSSDUFn.js";import"./react-router-BGTk-eDy.js";const fe=({items:r,onSelect:a,shipment:v={}})=>{const g=(()=>{const c=r.reduce((p,d)=>{const w=d.quantity*.002;return p+w},0),s=r.reduce((p,d)=>p+d.quantity,0);return s===1&&c<.005?"nzc-a4":s<=3&&c<.01?"nzc-a3":c<.015?"box-s":c<.02?"box-m":c<.03?"box-l":"pallet-custom"})(),h=[...R,...D,...G].find(c=>c.id===g),n=v[g]>0;return e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-lg mx-auto mb-4",children:e.jsxs(l.div,{className:"relative bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-2xl p-4 shadow-lg shadow-blue-500/20",animate:{boxShadow:["0 10px 25px rgba(59, 130, 246, 0.2)","0 10px 25px rgba(147, 51, 234, 0.3)","0 10px 25px rgba(59, 130, 246, 0.2)"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx(l.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx(M,{className:"text-blue-400 mr-2",size:18})}),e.jsx("h3",{className:"text-base font-semibold text-blue-300",children:"AI Recommendation"}),e.jsx(l.div,{animate:{rotate:[0,-10,10,0],scale:[1,1.05,1,1.1,1]},transition:{duration:3,repeat:1/0,delay:1.5,ease:"easeInOut"},children:e.jsx(M,{className:"text-purple-400 ml-2",size:14})})]}),h&&e.jsxs("div",{onClick:()=>{m("combo"),a(g)},onMouseEnter:()=>m("hover"),className:"cursor-pointer hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(S,{iconType:h.iconType,iconCount:1,iconSize:h.iconSize,size:60})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:h.name}),e.jsx("p",{className:"text-gray-400 text-xs",children:h.dimensions}),e.jsxs(l.button,{className:`relative mt-2 px-4 py-2 ${n?"bg-gradient-to-r from-green-500/20 via-emerald-500/20 to-green-500/20 border-green-500/50 text-green-300":"bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-blue-500/20 hover:from-blue-500/30 hover:via-purple-500/30 hover:to-blue-500/30 border border-blue-500/50 hover:border-purple-500/50 text-blue-300"} rounded-lg font-medium text-sm transition-all overflow-hidden group cursor-${n?"default":"pointer"}`,onMouseEnter:()=>!n&&m("hover"),whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.98},disabled:n,children:[!n&&e.jsxs(e.Fragment,{children:[e.jsx(l.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},children:[...Array(6)].map((c,s)=>e.jsx(l.div,{className:"absolute",style:{left:`${15+s*12}%`,top:`${20+s%3*20}%`},animate:{scale:[0,1,0],rotate:[0,180,360],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:s*.3,ease:"easeInOut"},children:e.jsx(M,{size:8,className:"text-yellow-300"})},s))}),e.jsx(l.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:1,ease:"easeInOut"}})]}),e.jsx("span",{className:"relative z-10 flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:e.jsx("svg",{className:"mr-2 text-green-400",width:"14",height:"14",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),"Selected"]}):e.jsxs(e.Fragment,{children:[e.jsx(l.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(M,{size:14,className:"mr-2"})}),"Select This Package"]})})]})]})]})]})})},P=300,A=r=>r>=250?{name:"COSMIC",gradient:"from-purple-900/30 via-pink-900/30 to-cyan-900/30",borderColor:"border-cyan-500/60",shadow:"shadow-cyan-500/30",hoverShadow:"hover:shadow-cyan-500/35",hoverBorder:"hover:border-cyan-500/70",badgeGradient:"from-purple-600 via-pink-600 to-cyan-600",badgeShadow:"shadow-cyan-500/50",animate:!0}:r>=125?{name:"MEGA",gradient:"from-purple-900/30 via-pink-900/30 to-red-900/30",borderColor:"border-pink-500/60",shadow:"shadow-pink-500/30",hoverShadow:"hover:shadow-pink-500/35",hoverBorder:"hover:border-pink-500/70",badgeGradient:"from-purple-600 via-pink-600 to-red-600",badgeShadow:"shadow-pink-500/50",animate:!0}:r>=25?{name:"SUPER",gradient:"from-purple-900/25 to-purple-800/25",borderColor:"border-purple-500/60",shadow:"shadow-purple-500/25",hoverShadow:"hover:shadow-purple-500/35",hoverBorder:"hover:border-purple-500/70",badgeGradient:"from-purple-500 to-purple-700",badgeShadow:"shadow-purple-500/50"}:r>=5?{name:"TIER",gradient:"from-blue-900/25 to-blue-800/25",borderColor:"border-blue-600/60",shadow:"shadow-blue-500/25",hoverShadow:"hover:shadow-blue-500/35",hoverBorder:"hover:border-blue-600/70",badgeGradient:"from-blue-500 to-blue-700",badgeShadow:"shadow-blue-500/50"}:r>0?{name:null,gradient:null,borderColor:"border-blue-500/50",shadow:"shadow-blue-500/20",hoverShadow:"hover:shadow-blue-500/30",hoverBorder:"hover:border-blue-500/60",badgeGradient:"from-blue-400 to-blue-500",badgeShadow:"shadow-blue-500/50"}:null,se=({quantity:r,onAdd:a,onRemove:v,onUpdateQuantity:x,className:g=""})=>{const[h,n]=C.useState(!1),[c,s]=C.useState(""),p=A(r),d=k=>{k.stopPropagation(),n(!0),s(""),m("click")},w=()=>{n(!1),s(""),m("success")},$=k=>{(k.key==="Enter"||k.key==="Escape")&&(n(!1),s(""),k.key==="Enter"&&m("success"))};return e.jsxs("div",{className:`flex flex-col items-center space-y-1 z-20 ${g}`,onClick:k=>k.stopPropagation(),children:[e.jsx(l.button,{whileHover:{scale:r>=P?1:1.1},whileTap:{scale:r>=P?1:.9},onClick:a,className:`p-1.5 rounded-lg transition-all duration-150 ${r>=P?"bg-gray-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-green-500/20 text-green-400 hover:bg-green-500/30 border border-green-500/50"}`,disabled:r>=P,children:e.jsx(te,{size:16})}),h?e.jsx("input",{type:"number",value:c,onChange:k=>{const f=k.target.value;if(f===""||parseInt(f)>=0&&parseInt(f)<=P){s(f);const E=parseInt(f)||0;x(E,!1)}},onBlur:w,onKeyDown:$,className:`w-12 px-1 py-1.5 rounded-lg font-semibold text-center bg-transparent border-2 outline-none transition-all duration-150 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${r>=250?"border-cyan-500 text-cyan-400":r>=125?"border-pink-500 text-pink-400":r>=25?"border-orange-500 text-orange-400":r>=5?"border-blue-600 text-blue-400":"border-blue-500 text-blue-300"}`,placeholder:r.toString(),autoFocus:!0,min:"0",max:P}):e.jsxs("div",{onClick:d,className:`px-3 py-1.5 rounded-lg font-semibold text-lg transition-all duration-150 border cursor-text hover:brightness-110 relative group ${r>=P?"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-cyan-600/20 border-cyan-500/50":p?`bg-gradient-to-r ${r>=250?"from-purple-600/20 via-pink-600/20 to-cyan-600/20 border-cyan-500/50":r>=125?"from-purple-600/20 via-pink-600/20 to-red-600/20 border-pink-500/50":r>=25?"from-yellow-500/20 to-orange-500/20 border-orange-500/50":r>=5?"from-blue-500/20 to-blue-700/20 border-blue-600/50":"bg-blue-500/20 border-blue-500/50"}`:"bg-white/5 border-white/10"}`,title:"Click to edit quantity",children:[e.jsx(l.span,{initial:{scale:1.2},animate:{scale:1},className:`inline-block ${r>=250?"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text animate-pulse":r>=125?"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 bg-clip-text animate-pulse":r>=25?"text-transparent bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text":r>=5?"text-transparent bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text":r>0?"text-blue-300":"text-gray-500"}`,children:r},r),e.jsx(de,{size:10,className:"absolute -top-0.5 -right-0.5 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v,className:`p-1.5 rounded-lg transition-all duration-150 ${r===0?"bg-gray-700/50 text-gray-500 cursor-not-allowed opacity-0 pointer-events-none":"bg-red-500/20 text-red-400 hover:bg-red-500/30 border border-red-500/50"}`,disabled:r===0,children:e.jsx(me,{size:16})}),r>=P&&e.jsx(l.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"text-xs font-semibold text-cyan-400 mt-1",children:"MAX"})]})},je=r=>{if(r.iconType==="box")switch(r.id){case"box-s":return"from-gray-400 to-gray-500";case"box-m":return"from-blue-400 to-blue-500";case"box-l":return"from-purple-400 to-pink-500";default:return"from-gray-400 to-gray-500"}else if(r.iconType==="satchel")switch(r.id){case"nzc-a4":return"from-gray-400 to-gray-500";case"nzc-a3":return"from-red-400 to-red-500";case"nzc-a2":return"from-red-500 to-orange-500";default:return"from-gray-400 to-gray-500"}else if(r.iconType==="pallet")return"from-purple-400 to-purple-600";return"from-gray-400 to-gray-500"},ve=({shipment:r,allPackageOptions:a,onUpdateQuantity:v,onRemoveItem:x,isCollapsed:g=!1,onToggleCollapse:h,selectedType:n="boxes"})=>{const c=()=>Object.values(r).reduce((t,o)=>t+o,0),s=t=>a.find(o=>o.id===t),d=Object.entries(r).filter(([t,o])=>o>0).map(([t,o])=>({packageId:t,quantity:o,package:s(t)})).filter(t=>t.package).sort((t,o)=>t.package.name.localeCompare(o.package.name)),w=c(),$={expanded:{maxHeight:"2000px",opacity:1,transition:{duration:.4,ease:[.4,0,.2,1]}},collapsed:{maxHeight:"120px",opacity:1,transition:{duration:.4,ease:[.4,0,.2,1]}}},k={hidden:{opacity:0,x:50,scale:.8},visible:{opacity:1,x:0,scale:1,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,x:-50,scale:.8,transition:{duration:.2}}},f=t=>t!=null&&t.includes("box")?e.jsx(U,{size:16}):t!=null&&t.includes("satchel")||t!=null&&t.includes("nzc")?e.jsx(re,{size:16}):t!=null&&t.includes("pallet")||t!=null&&t.includes("mainfreight")?e.jsx(Z,{size:16}):e.jsx(X,{size:16}),E=(t,o)=>t!=null&&t.includes("satchel")||t!=null&&t.includes("nzc")?"text-yellow-400":t!=null&&t.includes("pallet")||t!=null&&t.includes("mainfreight")?"text-purple-400":o==="box-s"?"text-gray-400":o==="box-m"?"text-blue-400":o==="box-l"?"text-purple-400":"text-blue-400";return e.jsxs(l.div,{className:"bg-white/[0.03] backdrop-blur-xl rounded-3xl p-6 border border-white/10 relative overflow-hidden",initial:!1,animate:g?"collapsed":"expanded",variants:$,children:[e.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-2 py-1 cursor-pointer hover:bg-white/[0.02] transition-colors",onClick:t=>{t.target.closest(".collapse-arrow")||(console.log("Header clicked!"),h&&(h(),m("click")))},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"text-blue-400",size:24}),w>0&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg shadow-blue-500/50",children:e.jsx("span",{className:"text-white text-xs font-bold",children:w})})]}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Shipment Summary"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[w>0&&e.jsx(l.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-xl",children:e.jsxs("span",{className:"text-blue-300 text-sm font-semibold",children:[w," ",w===1?"Package":"Packages"," Total"]})}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("Arrow button clicked!"),h&&(h(),m("click"))},className:"collapse-arrow text-gray-400 hover:text-white transition-all duration-200 p-3 rounded-lg hover:bg-white/10 cursor-pointer border border-transparent hover:border-white/20 relative z-50",style:{transform:g?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out, color 0.2s, background-color 0.2s"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",className:"pointer-events-none",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),!g&&e.jsx("div",{className:"mt-6",children:d.length===0?e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[e.jsx("div",{className:"opacity-30",children:e.jsx(S,{iconType:n==="satchels"?"satchel":n==="mainfreight"?"pallet":"box",iconCount:1,iconSize:"small",size:40})}),e.jsx("div",{className:"opacity-40",children:e.jsx(S,{iconType:n==="satchels"?"satchel":n==="mainfreight"?"pallet":"box",iconCount:1,iconSize:"medium",size:50})}),e.jsx("div",{className:"opacity-30",children:e.jsx(S,{iconType:n==="satchels"?"satchel":n==="mainfreight"?"pallet":"box",iconCount:1,iconSize:"large",size:40})})]}),e.jsx("p",{className:"text-gray-400 text-lg",children:"No packages selected"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Add ",n==="satchels"?"satchels":n==="mainfreight"?"freight packages":"boxes"," from the selection grid below"]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{mode:"popLayout",children:d.map(({packageId:t,quantity:o,package:b})=>e.jsxs(l.div,{layout:!0,variants:k,initial:"hidden",animate:"visible",exit:"exit",className:"bg-white/[0.02] border border-white/10 rounded-2xl p-4 relative group hover:bg-white/[0.05] transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"flex-shrink-0 text-center",children:[e.jsx("div",{className:"mb-2",children:e.jsx(S,{iconType:b.iconType,iconCount:o,iconSize:b.iconSize,size:48})}),e.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3].map(y=>e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{delay:y*.05},className:`w-6 h-0.5 rounded-full transition-all duration-300 ${y<=(b.iconCount||1)?`bg-gradient-to-r ${je(b)} shadow-sm`:"bg-gray-700"}`},y))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`${E(b.iconType,t)}`,children:f(b.iconType)}),e.jsx("h4",{className:"text-white font-semibold",children:b.name}),t==="box-s"&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gray-500/20 text-gray-300 rounded-full",children:"S"}),t==="box-m"&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-blue-500/20 text-blue-300 rounded-full",children:"M"}),t==="box-l"&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-purple-500/20 text-purple-300 rounded-full",children:"L"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:b.dimensions}),b.courier&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.courier})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(se,{quantity:o,onAdd:()=>v(t,o+1),onRemove:()=>{o>1?v(t,o-1):x(t)},onUpdateQuantity:y=>{y===0?x(t):v(t,y)},className:"relative"}),e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{x(t),m("error")},className:"p-2 rounded-lg bg-red-500/20 text-red-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/30",title:"Remove all packages of this type",children:e.jsx(ue,{size:18})})]})]}),(()=>{const y=A(o);if(!(y!=null&&y.name))return null;const O={COSMIC:{gradient:"from-purple-600 via-pink-600 to-cyan-600",shadow:"shadow-cyan-500/50",animate:!0},MEGA:{gradient:"from-purple-600 via-pink-600 to-red-600",shadow:"shadow-pink-500/50",animate:!0},SUPER:{gradient:"from-yellow-500 to-orange-500",shadow:"shadow-orange-500/50",animate:!1},TIER:{gradient:"from-blue-500 to-blue-700",shadow:"shadow-blue-500/50",animate:!1}}[y.name];return O?e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -left-2",children:e.jsx("div",{className:`px-3 py-1 bg-gradient-to-r ${O.gradient} rounded-full shadow-lg ${O.shadow} ${O.animate?"animate-pulse":""}`,children:e.jsxs("span",{className:"text-white text-xs font-bold flex items-center",children:[e.jsx(M,{size:12,className:"mr-1"}),y.name]})})}):null})()]},t))}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6 pt-6 border-t border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Types"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:d.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Items"}),e.jsx("p",{className:`text-2xl font-bold ${(()=>{const t=A(w);return(t==null?void 0:t.name)==="COSMIC"?"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text animate-pulse":(t==null?void 0:t.name)==="MEGA"?"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 bg-clip-text animate-pulse":(t==null?void 0:t.name)==="SUPER"?"text-transparent bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text":(t==null?void 0:t.name)==="TIER"?"text-transparent bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text":"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent"})()}`,children:w})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Tiered Items"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:d.filter(t=>{const o=A(t.quantity);return(o==null?void 0:o.name)!==null}).length})]})]}),d.some(t=>{const o=A(t.quantity);return(o==null?void 0:o.name)!==null})&&e.jsx("div",{className:"mt-4 flex justify-center space-x-4",children:(()=>{const t={COSMIC:{count:0,color:"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text"},MEGA:{count:0,color:"text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 bg-clip-text"},SUPER:{count:0,color:"text-yellow-400"},TIER:{count:0,color:"text-blue-400"}};return d.forEach(o=>{const b=A(o.quantity);b!=null&&b.name&&t[b.name]&&t[b.name].count++}),Object.entries(t).filter(([o,b])=>b.count>0).map(([o,b])=>e.jsxs("div",{className:`text-xs font-semibold ${b.color}`,children:[b.count," ",o==="TIER"?"Standard":o]},o))})()})]})]})}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-purple-500/10 blur-3xl rounded-full"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-purple-500/10 to-pink-500/10 blur-3xl rounded-full"})]})},we=()=>{const[r,a]=C.useState({});return{shipment:r,addToShipment:c=>{a(s=>({...s,[c]:Math.min((s[c]||0)+1,P)})),m("success")},removeFromShipment:c=>{a(s=>{const p={...s};return p[c]>1?p[c]--:delete p[c],p}),m("click")},updateShipmentQuantity:(c,s,p=!0)=>{s<=0?a(d=>{const w={...d};return delete w[c],w}):a(d=>({...d,[c]:Math.min(P,s)})),p&&m("click")},removeItemFromShipment:c=>{a(s=>{const p={...s};return delete p[c],p})},getTotalPackages:()=>Object.values(r).reduce((c,s)=>c+s,0)}},ye=({quantity:r})=>{const a=A(r);return a!=null&&a.name?e.jsx(l.div,{initial:{scale:0,rotate:-15},animate:{scale:1,rotate:0},className:"absolute top-12 left-3 pointer-events-none z-20",children:e.jsx("div",{className:`px-3 py-1 bg-gradient-to-r ${a.badgeGradient} rounded-full shadow-lg ${a.badgeShadow}`,children:e.jsxs("span",{className:"text-white text-xs font-bold flex items-center",children:[e.jsx(M,{size:12,className:`mr-1 ${a.animate?"animate-spin":""}`}),a.name]})})}):null},Ne=r=>{if(r.iconType==="box")switch(r.id){case"box-s":return"from-gray-400 to-gray-500";case"box-m":return"from-blue-400 to-blue-500";case"box-l":return"from-purple-400 to-pink-500";default:return"from-gray-400 to-gray-500"}else switch(r.id){case"nzc-a4":return"from-gray-400 to-gray-500";case"nzc-a3":return"from-red-400 to-red-500";case"nzc-a2":return"from-red-500 to-orange-500";default:return"from-gray-400 to-gray-500"}},Se=({option:r,quantity:a=0,onAdd:v,onRemove:x,onUpdateQuantity:g,isRecommended:h=!1,isSatchel:n=!1,isSelected:c=!1})=>{const s=A(a);return e.jsxs(l.div,{onClick:()=>{v()},onMouseEnter:()=>{m("hover")},whileHover:a<P?{scale:1.02,transition:{duration:.2}}:{},whileTap:a<P?{scale:.98}:{},animate:h?{scale:[1,1.02,1],filter:["drop-shadow(0 0 0px rgba(59, 130, 246, 0.5))","drop-shadow(0 0 25px rgba(59, 130, 246, 0.8))","drop-shadow(0 0 0px rgba(59, 130, 246, 0.5))"]}:{},transition:h?{type:"tween",duration:3,repeat:1/0,repeatType:"loop",ease:"easeInOut"}:{},className:`relative p-6 rounded-2xl border transition-all duration-150 ${a<P?"cursor-pointer group":"cursor-not-allowed"} ${a>=P?"bg-gradient-to-br from-purple-900/40 via-pink-900/40 to-cyan-900/40 border-cyan-500/80 shadow-xl shadow-cyan-500/40 animate-pulse":s?`bg-gradient-to-br ${s.gradient||"bg-blue-900/20"} ${s.borderColor} shadow-xl ${s.shadow} ${s.hoverShadow} ${s.hoverBorder}`:c?"bg-white/[0.08] backdrop-blur-xl border-yellow-500/60 hover:border-yellow-500/80 hover:bg-white/[0.12] shadow-lg shadow-yellow-500/25":h?"bg-white/[0.03] backdrop-blur-xl border-blue-500/30 hover:border-blue-500/50 hover:bg-white/[0.05]":"bg-white/[0.03] backdrop-blur-xl border-white/10 hover:border-gray-600/50 hover:bg-white/[0.05]"}`,children:[h&&e.jsxs(l.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-3 -right-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/50 flex items-center space-x-1 z-30 pointer-events-none",children:[e.jsx(M,{size:14}),e.jsx("span",{children:"AI Pick"})]}),c&&e.jsxs(l.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},className:"absolute -top-3 -left-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg shadow-yellow-500/50 flex items-center space-x-1 z-30 pointer-events-none",children:[e.jsx(l.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:"âš¡"}),e.jsx("span",{children:"Selected"})]}),a>0&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:`absolute top-3 left-3 rounded-full w-10 h-10 flex items-center justify-center shadow-lg pointer-events-none z-20 bg-gradient-to-r ${(s==null?void 0:s.badgeGradient)||"from-gray-600 to-gray-700"} ${(s==null?void 0:s.badgeShadow)||""} ${s!=null&&s.animate?"animate-pulse":""}`,children:e.jsx("span",{className:"text-white font-bold text-lg",children:a})}),e.jsx(ye,{quantity:a}),e.jsxs("div",{className:"relative text-center z-10",children:[e.jsx("div",{className:`flex justify-center mb-4 ${a>=5?"filter drop-shadow-lg":""}`,children:e.jsx(S,{iconType:r.iconType,iconCount:r.iconCount,actualQuantity:a>0?a:void 0,iconSize:r.iconSize})}),e.jsx("h3",{className:`font-bold text-2xl mb-2 ${n?"text-yellow-400":"text-white"}`,children:r.name}),e.jsx("p",{className:`font-medium mb-2 ${n?"text-yellow-300":"text-gray-400"}`,children:r.dimensions}),e.jsx("div",{className:"flex justify-center gap-2 mb-3",children:[1,2,3].map(p=>e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{delay:p*.1},className:`w-8 h-1 rounded-full transition-all duration-300 ${p<=r.iconCount?`bg-gradient-to-r ${Ne(r)} shadow-sm`:"bg-gray-700"}`},p))}),r.courier&&e.jsxs("div",{className:"mt-3 inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-white/5 border border-white/10",children:[e.jsx(Z,{className:`mr-1 ${n?"text-yellow-400":""}`,size:12}),e.jsx("span",{className:n?"text-yellow-400":r.courier==="NZ Couriers"?"text-blue-400":"text-orange-400",children:r.courier})]})]}),e.jsx(se,{quantity:a,onAdd:v,onRemove:x,onUpdateQuantity:g,className:"absolute bottom-4 right-4"})]})},ze={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}},exit:{opacity:0,transition:{staggerChildren:.05,staggerDirection:-1}}},Ce={hidden:{opacity:0,scale:.8,y:20,rotateX:-15},show:{opacity:1,scale:1,y:0,rotateX:0,transition:{type:"spring",stiffness:300,damping:20}},exit:{opacity:0,scale:.8,y:-20,rotateX:15,transition:{duration:.2}}},ke=({options:r,shipment:a,onAdd:v,onRemove:x,onUpdateQuantity:g,recommendedId:h,isSatchel:n=!1,selectedPackageId:c=null})=>e.jsx(l.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",variants:ze,initial:"hidden",animate:"show",exit:"exit",children:r.map(s=>e.jsx(l.div,{variants:Ce,children:e.jsx(Se,{option:s,quantity:a[s.id]||0,onAdd:()=>v(s.id),onRemove:()=>x(s.id),onUpdateQuantity:(p,d)=>g(s.id,p,d),isRecommended:s.id===h,isSatchel:n,isSelected:s.id===c})},s.id))}),$e=({onAdd:r})=>{const[a,v]=C.useState("pallet"),[x,g]=C.useState({length:"",width:"",height:""}),[h,n]=C.useState(""),[c,s]=C.useState(""),[p,d]=C.useState(""),[w,$]=C.useState(""),k=()=>{if(!h.trim()){d("Please provide a description"),m("error");return}if(!x.length||!x.width||!x.height){d("All dimensions are required"),m("error");return}const f=[x.length,x.width,x.height];for(let b of f){const y=parseFloat(b);if(isNaN(y)||y<=0){d("Please enter valid dimensions in meters"),m("error");return}if(y>10){d("Dimensions cannot exceed 10 meters"),m("error");return}}if(!c){$("Weight is required for mainfreight"),m("error");return}const E=parseFloat(c);if(isNaN(E)||E<=0){$("Please enter a valid weight in kg"),m("error");return}if(E>1e3){$("Weight cannot exceed 1000kg"),m("error");return}const o={id:`custom-${a}-${Date.now()}`,name:`Custom ${a==="pallet"?"Pallet":a==="carton"?"Carton":"Item"}: ${h}`,dimensions:`${x.length}Ã—${x.width}Ã—${x.height}m`,iconType:a==="pallet"?"pallet":a==="carton"?"carton":"largeItem",iconCount:1,iconSize:"large",isCustom:!0,requiresWeight:!0,weight:E,customType:a,customDimensions:x,customDescription:h};r(o),n(""),g({length:"",width:"",height:""}),s(""),$(""),d(""),m("success")};return e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:25},className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-semibold text-purple-300 mb-4 text-lg flex items-center",children:[e.jsx(he,{className:"mr-2",size:20}),"Freight Configuration"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Select shipment type:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(l.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>{v("pallet"),m("click")},className:`p-4 rounded-xl border transition-colors duration-150 ${a==="pallet"?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-white/5 border-white/10 text-gray-400 hover:border-purple-500/30"}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(S,{iconType:"pallet",iconCount:1,iconSize:"large",size:60})}),e.jsx("div",{className:"font-semibold",children:"Palletized Goods"}),e.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Standard freight on pallet"})]}),e.jsxs(l.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>{v("carton"),m("click")},className:`p-4 rounded-xl border transition-colors duration-150 ${a==="carton"?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-white/5 border-white/10 text-gray-400 hover:border-purple-500/30"}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(S,{iconType:"carton",iconCount:1,iconSize:"large",size:60})}),e.jsx("div",{className:"font-semibold",children:"Carton"}),e.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Large box shipment"})]}),e.jsxs(l.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>{v("item"),m("click")},className:`p-4 rounded-xl border transition-colors duration-150 ${a==="item"?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-white/5 border-white/10 text-gray-400 hover:border-purple-500/30"}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(S,{iconType:"largeItem",iconCount:1,iconSize:"large",size:60})}),e.jsx("div",{className:"font-semibold",children:"Large Item"}),e.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Oversized or irregular freight"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:["Description ",e.jsx("span",{className:"text-purple-400",children:"*"})]}),e.jsx("input",{type:"text",value:h,onChange:f=>{n(f.target.value),d("")},placeholder:`Describe the ${a} contents`,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-purple-500/50 focus:outline-none transition-all",maxLength:"50"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:["Dimensions (meters) ",e.jsx("span",{className:"text-purple-400",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",value:x.length,onChange:f=>{g({...x,length:f.target.value}),d("")},placeholder:"2.40",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-purple-500/50 focus:outline-none transition-all",step:"0.01",min:"0.01",max:"10"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Length (m)"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",value:x.width,onChange:f=>{g({...x,width:f.target.value}),d("")},placeholder:"1.20",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-purple-500/50 focus:outline-none transition-all",step:"0.01",min:"0.01",max:"10"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Width (m)"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",value:x.height,onChange:f=>{g({...x,height:f.target.value}),d("")},placeholder:"1.80",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-purple-500/50 focus:outline-none transition-all",step:"0.01",min:"0.01",max:"10"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Height (m)"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:["Weight ",e.jsx("span",{className:"text-orange-400",children:"*"})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-orange-300 mb-3",children:"Required for Mainfreight"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:c,onChange:f=>{s(f.target.value),$("")},placeholder:"Enter weight...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-orange-500/50 focus:outline-none transition-all",step:"0.1",min:"0",max:"1000"}),e.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"kg"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Total weight including pallet"})]})]})]}),p&&e.jsxs("div",{className:"mt-4 text-red-400 text-sm flex items-center",children:[e.jsx(J,{className:"mr-2",size:16}),p]}),w&&e.jsxs("div",{className:"mt-4 text-red-400 text-sm flex items-center",children:[e.jsx(J,{className:"mr-2",size:16}),w]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs(l.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:k,className:"px-6 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:shadow-lg hover:shadow-purple-500/50 transition-all flex items-center",children:[e.jsx(te,{className:"mr-2",size:20}),"Add to Shipment"]})})]})},"mainfreight-config")},Re=({onSelect:r,items:a=[],packingTime:v,startTime:x,tote:g,onBack:h})=>{const[n,c]=C.useState("boxes"),[s,p]=C.useState((v==null?void 0:v.time)||0),[d,w]=C.useState(!1),[$,k]=C.useState([...R,...D,...G]),[f,E]=C.useState(null),{shipment:t,addToShipment:o,removeFromShipment:b,updateShipmentQuantity:y,removeItemFromShipment:_,getTotalPackages:O}=we();C.useEffect(()=>{const i=setInterval(()=>{if(x){const u=Math.floor((Date.now()-x)/1e3);p(u)}},1e3);return()=>clearInterval(i)},[x]),C.useEffect(()=>{Object.keys(t).length>0&&!d&&w(!0)},[t,d]);const K=i=>R.includes(i)||D.includes(i)?"nz-couriers":G.includes(i)||i.isCustom?"mainfreight":"unknown",Y=()=>{const i=Object.keys(t),u=new Set;return i.forEach(z=>{const I=$.find(B=>B.id===z);I&&u.add(K(I))}),Array.from(u)},N=i=>{const u=Y();if(u.length===0)return!0;if(u.length>1)return!1;const z=u[0];return i==="mainfreight"?z==="mainfreight":z==="nz-couriers"},T=i=>{const u=Y();return u.length===0?null:i==="mainfreight"&&u.includes("nz-couriers")?"Cannot mix Mainfreight with NZ Couriers packages":(i==="boxes"||i==="satchels")&&u.includes("mainfreight")?"Cannot mix NZ Couriers with Mainfreight packages":null},F=(()=>{const i=a.reduce((z,I)=>{const B=I.quantity*.002;return z+B},0),u=a.reduce((z,I)=>z+I.quantity,0);return u===1&&i<.005?"nzc-a4":u<=3&&i<.01?"nzc-a3":i<.015?"box-s":i<.02?"box-m":i<.03?"box-l":"pallet-small"})(),L=R.some(i=>i.id===F)?"boxes":D.some(i=>i.id===F)?"satchels":G.some(i=>i.id===F)?"mainfreight":"boxes",ae=i=>{k(u=>[...u,i]),o(i.id)},Q=i=>{if(!N(i)){m("error"),E(i),setTimeout(()=>E(null),3e3);return}c(i),m("click"),E(null)},ie=()=>{if(Object.keys(t).length===0){m("error");return}const i=s,u=Object.entries(t).map(([z,I])=>({...$.find(V=>V.id===z),quantity:I}));r(u,i),m("complete")},H=i=>{switch(i){case"boxes":return e.jsx(U,{size:16});case"satchels":return e.jsx(re,{size:16});case"mainfreight":return e.jsx(Z,{size:16});default:return null}},j=O();return e.jsxs("div",{className:"min-h-screen w-full p-8 overflow-auto relative",children:[e.jsx(oe,{}),e.jsxs("div",{className:"w-full max-w-[1800px] mx-auto relative z-10",children:[e.jsx(ne,{className:"mb-8",onClick:h,text:"Back to Packing"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(S,{iconType:"box",actualQuantity:j||1,size:60,iconSize:"medium"}),e.jsx("h1",{className:"text-6xl font-bold text-white tracking-tight bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent ml-4",children:"Select Packaging"})]}),e.jsxs("p",{className:"text-xl text-gray-400 flex items-center justify-center",children:[e.jsx(pe,{className:"mr-2",size:20}),"Build your shipment by selecting multiple package types"]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"bg-white/[0.03] backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"text-blue-400",size:20}),e.jsx("div",{className:"text-2xl font-mono bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent",children:le(s)})]}),e.jsx("div",{className:"w-px h-8 bg-gray-700"}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"text-gray-500",size:16}),e.jsx("span",{className:"text-sm text-gray-500",children:"Order:"}),e.jsx("span",{className:"text-sm font-bold text-gray-300",children:g.orderId})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-500",size:16}),e.jsx("span",{className:"text-sm text-gray-500",children:"Picked:"}),e.jsx("span",{className:"text-sm font-bold text-gray-300",children:new Date(g.pickedDate).toLocaleDateString("en-NZ")})]})]})]})})}),a.length>0&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-blue-500/20 backdrop-blur-xl rounded-3xl p-8 border-2 border-green-500/30 shadow-xl shadow-green-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white flex items-center",children:[e.jsx(X,{className:"mr-4 text-green-400",size:36}),"Items You Packed"]}),e.jsxs("div",{className:"flex items-center space-x-3 bg-green-500/20 border border-green-500/40 px-6 py-3 rounded-2xl",children:[e.jsx(S,{iconType:"box",actualQuantity:a.reduce((i,u)=>i+u.quantity,0),size:48,iconSize:"medium"}),e.jsxs("span",{className:"text-green-400 font-bold text-lg",children:[a.reduce((i,u)=>i+u.quantity,0)," total items"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((i,u)=>e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"bg-white/[0.08] backdrop-blur-xl border border-white/20 rounded-2xl p-6 hover:border-green-500/50 hover:shadow-lg hover:shadow-green-500/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-white text-lg truncate",children:i.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{iconType:ce(i.name,i.sku||i.id),actualQuantity:i.quantity,size:48,iconSize:"medium"}),e.jsxs("div",{className:"bg-green-500/30 text-green-300 px-3 py-1 rounded-full text-lg font-bold",children:["Ã—",i.quantity]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"mr-2",size:16}),e.jsx("span",{className:"font-mono",children:i.id})]}),i.binLocation&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"mr-2",size:16}),e.jsxs("span",{className:"font-medium",children:["Bin: ",(()=>{const z=i.binLocation,[I,B]=z.split("-"),V=parseInt(B);return`${I}${V}`})()]})]})]})]},i.id))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-300 text-lg",children:["ðŸ’¡ ",e.jsx("span",{className:"font-semibold",children:"Choose your packaging based on these items"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white/[0.03] backdrop-blur-xl rounded-3xl p-8 relative overflow-hidden border border-white/10",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-center space-x-4 mb-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>Q("boxes"),onMouseEnter:()=>N("boxes")&&m("hover"),disabled:!N("boxes"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 relative flex items-center ${N("boxes")?n==="boxes"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white bg-white/5":"text-gray-600 bg-gray-800/50 cursor-not-allowed opacity-50"}`,title:T("boxes"),children:[H("boxes"),e.jsx("span",{className:"ml-2",children:"Boxes"}),!N("boxes")&&e.jsx(W,{className:"ml-2 text-red-500",size:14}),n!=="boxes"&&L==="boxes"&&N("boxes")&&e.jsx(l.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full",animate:{scale:[1,1.2,1],filter:["drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))","drop-shadow(0 0 15px rgba(59, 130, 246, 1))","drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))"]},transition:{type:"tween",duration:2,repeat:1/0,repeatType:"loop",ease:"easeInOut"}})]}),f==="boxes"&&T("boxes")&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-1 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-xs whitespace-nowrap z-10",children:T("boxes")})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>Q("satchels"),onMouseEnter:()=>N("satchels")&&m("hover"),disabled:!N("satchels"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 relative flex items-center ${N("satchels")?n==="satchels"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white bg-white/5":"text-gray-600 bg-gray-800/50 cursor-not-allowed opacity-50"}`,title:T("satchels"),children:[H("satchels"),e.jsx("span",{className:"ml-2",children:"Satchels"}),!N("satchels")&&e.jsx(W,{className:"ml-2 text-red-500",size:14}),n!=="satchels"&&L==="satchels"&&N("satchels")&&e.jsx(l.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full",animate:{scale:[1,1.2,1],filter:["drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))","drop-shadow(0 0 15px rgba(59, 130, 246, 1))","drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))"]},transition:{type:"tween",duration:2,repeat:1/0,repeatType:"loop",ease:"easeInOut"}})]}),f==="satchels"&&T("satchels")&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-1 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-xs whitespace-nowrap z-10",children:T("satchels")})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>Q("mainfreight"),onMouseEnter:()=>N("mainfreight")&&m("hover"),disabled:!N("mainfreight"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 relative flex items-center ${N("mainfreight")?n==="mainfreight"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white bg-white/5":"text-gray-600 bg-gray-800/50 cursor-not-allowed opacity-50"}`,title:T("mainfreight"),children:[H("mainfreight"),e.jsx("span",{className:"ml-2",children:"Mainfreight"}),!N("mainfreight")&&e.jsx(W,{className:"ml-2 text-red-500",size:14}),n!=="mainfreight"&&L==="mainfreight"&&N("mainfreight")&&e.jsx(l.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full",animate:{scale:[1,1.2,1],filter:["drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))","drop-shadow(0 0 15px rgba(59, 130, 246, 1))","drop-shadow(0 0 0px rgba(59, 130, 246, 0.7))"]},transition:{type:"tween",duration:2,repeat:1/0,repeatType:"loop",ease:"easeInOut"}})]}),f==="mainfreight"&&T("mainfreight")&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-1 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-xs whitespace-nowrap z-10",children:T("mainfreight")})]})]}),e.jsx(ee,{mode:"wait",children:n!=="mainfreight"?e.jsx(ke,{options:n==="boxes"?R:D,shipment:t,onAdd:o,onRemove:b,onUpdateQuantity:y,recommendedId:F,isSatchel:n==="satchels"},n):e.jsx($e,{onAdd:ae},"mainfreight")}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/20",children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx(M,{className:"text-purple-400 mr-2",size:16}),e.jsx("h3",{className:"text-base font-semibold text-purple-300",children:"Package Tier Colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{iconType:"box",actualQuantity:1,size:48,iconSize:"medium"}),e.jsx("span",{className:"text-white text-xl font-bold",children:"= 1"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{iconType:"box",actualQuantity:5,size:48,iconSize:"medium"}),e.jsx("span",{className:"text-white text-xl font-bold",children:"= 5"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{iconType:"box",actualQuantity:25,size:48,iconSize:"medium"}),e.jsx("span",{className:"text-white text-xl font-bold",children:"= 25"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{iconType:"box",actualQuantity:125,size:48,iconSize:"medium"}),e.jsx("span",{className:"text-white text-xl font-bold",children:"= 125"})]})]})]})})]})})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx(ve,{shipment:t,allPackageOptions:$,onUpdateQuantity:y,onRemoveItem:_,isCollapsed:!d,onToggleCollapse:()=>w(!d),selectedType:n}),a.length>0&&e.jsx("div",{className:"mt-6",children:e.jsx(fe,{items:a,shipment:t,onSelect:i=>{const u=$.find(z=>z.id===i);if(u){const z=K(u);if(!N(z==="mainfreight"?"mainfreight":"boxes")){m("error");return}R.includes(u)?c("boxes"):D.includes(u)?c("satchels"):G.includes(u)&&c("mainfreight"),o(u.id),E(null)}}})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:ie,onMouseEnter:()=>m("hover"),disabled:j===0,className:`w-full px-8 py-4 rounded-xl font-semibold text-white transform transition-all duration-150 flex items-center justify-center ${j===0?"bg-gradient-to-r from-gray-600 to-gray-700 opacity-50 cursor-not-allowed":j>=250?"bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 hover:shadow-lg hover:shadow-cyan-500/50 animate-pulse":j>=125?"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 hover:shadow-lg hover:shadow-pink-500/50 animate-pulse":j>=50?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:shadow-lg hover:shadow-orange-500/50":j>=20?"bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg hover:shadow-purple-500/50":j>=10?"bg-gradient-to-r from-blue-500 to-blue-600 hover:shadow-lg hover:shadow-blue-500/50":"bg-gradient-to-r from-blue-500 to-purple-500 hover:shadow-lg hover:shadow-blue-500/50"}`,children:j>0?e.jsxs(e.Fragment,{children:[e.jsx(S,{iconType:"box",actualQuantity:j,size:24,iconSize:"small"}),e.jsx("span",{className:"ml-2",children:j>=250?e.jsxs("span",{className:"flex items-center",children:[e.jsx(M,{className:"mr-1 animate-spin",size:16}),"Confirm COSMIC Shipment (",j," Packages)"]}):j>=125?e.jsxs("span",{className:"flex items-center",children:[e.jsx(M,{className:"mr-1",size:16}),"Confirm MEGA Shipment (",j," Packages)"]}):j>=50?e.jsxs("span",{className:"flex items-center",children:[e.jsx(M,{className:"mr-1",size:16}),"Confirm SUPER Shipment (",j," Packages)"]}):j>=20?e.jsxs("span",{children:["Confirm Large Shipment (",j," Packages)"]}):j>=10?e.jsxs("span",{children:["Confirm Bulk Order (",j," Packages)"]}):e.jsxs("span",{children:["Confirm ",j," ",j===1?"Package":"Packages"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"mr-2",size:20}),"Add packages to continue"]})})})]})]})]})]})};export{Re as default};
